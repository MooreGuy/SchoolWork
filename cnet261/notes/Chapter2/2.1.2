/*******************************
	CONFIGURE SWITCH PORTS
*******************************/

Full-Duplex vs Half-Duplex Communication
	
	Full-Duplex improves the performance of a switched LAN

		Allows both ends to transmit and recieve data simultaneously.
			(Also called bidirectional)

		Increases effective bandwidth by 200 percent (100 percent in both
			directions)

		Most Ethernet and Fast Ethernet NICs are sold today offer
			 full-duplex.

		Gigabit Ethernet and 10Gb NICs require full-duplex connections

		In full-duplex, collision detection circuit on the NIC is disabled.

		Method to optimize network performance is called micro-segmentation,
			which is segmenting the network in to micro-segments

			A micro-segment is when you only have one device connected to a
				switch port operating at full-duplex.

			Frames that are sent cannot collide because the devices use two
				seperate cicuits in the network cable.

		Full-duplex requires a switch that supports full-duplex
			configuration or a direct connection using an Ethernet cable 
			between two devices.

	Half-duplex creates performance issues in a switched LAN 
		
		Unidirectional

		communication cannot send and recieve data simultaneously

		Data can only flow one direction at a time, which often causes
			collisions.

		Typically seen in older hardware, like hubs. Full-duplex has
			replaced half-duplex in most hardware.

		Standard, shared hub-based Ethernet configuration efficiency is
			typically rated at 50 to 60
		
Configuring Port Speed and Duplex
	
	Switch ports can be manually configured with specific duplex and speed
		settings
	
	Use the duplex interface configuration mode
		to specify the duplex mode for a switch port. ex. duplex full

	Use the speed interface configuration mode to manually specify the speed
		of the switch port.			ex. speed 100

		The default setting for both duplex and speed for switch ports on 
			Catalyst 2960 and 3560 switches is auto.

		Cisco recommends using auto command for both duplex and speed, to
			avoid connectivity issues between devices.

	The 10/100/1000 ports operate in either half or full duplex mode

		10/100 can operate in either full or half
	
		1000 can only operate in full

		All fiber optic ports such as 100BASE-FX ports operate only at one
			preset speed and are always full-duplex.

	When troubleshooting a device, check the speed and duplex settings.

		Mismatched settings for the duplex mode and speed of switch ports
			can cause connectivity issues. 

		Auto negotiation failure creates mismatched settings.

Auto-MDIX

	Until recenetly, either straight-through or crossover cables were
		required when connecting devices

		when connecting switches without the auto-MDIX feature:
	
			straight-through:
				
				servers, workstations, or routers

			crossover:
			
				switches, repeaters		
	
	Now we have Automatic medium-depedent interface crossover to eliminate 
		the need.

	When auto-MDIX is enabled the interface automatically detects the
		required cable connection type. It then configures the connection
		appropriately. 

		the mdix auto interface configurtion mode enables the feature

		When using auto-MDIX on an interface, the interface speed and 
			duplex must be set to auto so that the feature operates
			correctly
	
		auto-MDIX is enabled by default on Catalyst 2960 and Catalyst 3569
			switches but is not available on the older catalyst 2950
			and 3550 switches.

	[COMMANDS]

			S1# configure terminal

			S1(config)# interface fastethernet 0/1

			S1(config-if)# duplex auto

			S1(config-if)# speed auto

			S1(config-if)# mdix auto

			S1(config-if)# end



	To examine auto-MDIX setting for a specific interface use:

		show controllers ethernet-controller
			use with the phy keyword.

		To limit the output to lines referencing auto-MDIX, use:
			
			include Auto-MDIX
		
		[COMMAND]show controllers ethernet-controller fa 0/1 phy | include
			Auto-MDIX

Verifying Switch Port Configuration

	These are some helpful show commands

		[COMMAND] S1# show interfaces [interface-id]
			display interface status and configuration
				frequently used when configuring and monitoring network	
				devices

		[COMMAND] S1# show startup-config
			display current startup configuration

		[COMMAND] S1# show running-config
			display current running configuration

		[COMMAND] S1# show flash
			display information about flash file system

		[COMMAND] S1# show version
			display system hardware and software status

		[COMMAND] S1# show history
			display history of commands entered

		[COMMAND] S1# show ip [interface-id]
			display information about an interface
	
		[COMMAND] S1# show mac-address-table OR show mac address-table
			Display the MAC address table

Network Access Layer Issues

	show interfaces: command can be used to detect common media issues.

		most important output is the display of line and data link protocol
			status
	
		First parameter of show interfaces:	
			FastEthernet0/1 is up- refers to the hardware layer and reflects
				on whether the interface is receiving the carrier detect
				signal from the other end.

		Second parameter of show interfaces:
			line protocol is up- refers to the data link layer and reflects
				whether the data link layer protocol keepalives are being
				received.
			
		The show interfaces command can show possible problems.
			
			if: interface is up and line protocol is down:

				problem exists, there could be an encapsulation type
				mismatch, the interface on the other end could be 
				error-disabled, or there could be a hardware problem.

			if: line protocol and interface are both down:
				
				cable is not attached or some other interface problem exists
					like a back-to-back connection is administratively down
					at the other end

			if: interface is administratively down, it has been manually
				disabled in the active configuration

		show interfaces also shows important counters and statistics
			for the interfaces

			Some issues are not enough to cause the circuit to fail, but
				do cause disruptions

			"input errors" is the sum of all errors in datagrams that
				were received on the interface being examined

				This includes:
				
					runts
					giants
					CRC
					no buffer
					frame
					overrun
					ignored counts

				Runts: frames shorter than the 64-byte minimum.
					Malfunctioning NICs are the usual cause of runt frames,
					but can also be caused by excessive collisions

				Giants: frames longer than the maximum allowed length
					Caused by the same issues as runts

				CRC errors: On Ethernet and Seriel interfaces, CRC errors
					are caused by cabling errors:
	
					electrical interference
					loose or damaged connections 
					incorrect cabling type	
						
					if you have too many CRC errors, there is too much noise
						on the link and you should inspect the cable for
						damage and length. Should do this when possible. 

			"output errors" is the sum of all errors that prevented the
				final transmission of datagrams out of the interface that is
				being examined

				Collisions: Normal in half-duplex should not be a worry,
					however a full-duplex(properly designed) network should
					 never have them.

				Late collisions: A late collision refers to a collision that
					occurs after 512 bits of the frame have been transmitted
					
					Excessive cable lengths are the most common cause.

					Duplex misconfigurations is another cause.
						Where one end is full-duplex and the other is half
						the end with half will have late collisions.

					Properly designed network should never have these


				
Trouble Shooting Network Access Layer Issues

	
