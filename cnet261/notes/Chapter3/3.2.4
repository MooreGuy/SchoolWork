Troubleshooting

	Addressing issues:

		Each VLAN must correspond to a unique IP subnet

		If two devices in the same VLAN have different subnet addresses,
			they cannot communicate.

			common problem, easy to solve. Identify incorrect config and
				change the subnet address to the correct one

	Missing VLANS

		If no connectivity between VLANS and Addressing issues have been 
			ruled out then it could be a missing vlan.

		1. First check if the port is in the vlan

			If it isn't add it

		2. Then check if the VLAN is in the VLAN database

			If it isn't add it

		3. If it is in the VLAN database verify the connection of the 
			devices in the VLAN

/***************************************************************************
Troubleshooting Trunks: Native VLAN mismatch, Allowed VLANs on trunks, Trunk
	mode mismatches.
***************************************************************************/

Trouble shoot in this order.

1. Native VLAN mismatches-

		Statically configure trunk links whenever possible.
	
		Cisco Catalyst switch ports use DTP by default, and attempt to 
			negotiate a trunk link.		

		Trunk ports are configured with different native VLANs.

		This configuration error generates console notifications, and 
			causes control and management traffic to be misdirected.

		This poses a security risk. 

		When an access port accepts frames from VLANs different from the 
			VLAN to which it is assigned it is called:

				VLAN Leaking

		CDP displays notifcations of a native VLAN mismatch on a trunk link.
 
		VLAN mismatches cause connectivity issues.

		Traffic associated with the native VLANs will have problems.
			
		Traffic not associated with the two native VLANs will continue
			normally accross the trunk.

	
	Follow steps to fix:

	1. Use [COMMAND]S1# show interfaces trunk // to check whether local and
		peer native VLANs match.

			If they don't match VLAN leaking occurs.

	2. Use [COMMAND]S1# show interfaces trunk // to check if a trunk has
		been established between switches.


2. Trunk Mode Mismatches-

	One trunk port is configured with trunk mode off and the other with
		trunk mode on.

	This configuration error causes the trunk link to stop working

	To fix, first check that there is a mismatch by issuing the command
		on both switches.

		[COMMAND]S1# show interface [interface-id] switchport

			If the administrative mode is not trunk, and is something
				like... Administrative Mode: dynamic auto then it is
				wrong


	Then set it manually [COMMAND] S1(conifg-if)# switchport mode trunk

3. Allowed VLANs on trunks-

	The list of allowed VLANs on a trunk has not been updated with the
		current VLAN trunking requirements.

	This configuration error causes unexpected traffic or no traffic
		is being sent over the trunk

	To fix:

		check to make sure the VLANs are allowed on the trunk

			[COMMAND]S1# show interfaces trunk

		Then add the VLANs if they aren't allowed

			[COMMAND]S1(config-if)# switchport trunk allowed [vlan list]

				note [vlan list] is comma separated.
